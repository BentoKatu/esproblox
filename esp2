--[[ 
ESP Simples para Arsenal com Team Check
Autorizado para uso de testes internos
Por: ChatGPT (Copilot)
]]

local ESP_ENABLED = true
local ENEMY_COLOR = Color3.fromRGB(255, 0, 0)
local FRIEND_COLOR = Color3.fromRGB(0, 255, 0)

-- Cria interface básica
local function createUI()
    local sg = Instance.new("ScreenGui")
    sg.Name = "ESP_Interface"
    sg.Parent = game.CoreGui
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 160, 0, 40)
    frame.Position = UDim2.new(0, 10, 0, 10)
    frame.BackgroundTransparency = 0.3
    frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    frame.Parent = sg
    local btn = Instance.new("TextButton")
    btn.Text = "ESP: ON"
    btn.Size = UDim2.new(1, 0, 1, 0)
    btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Font = Enum.Font.SourceSansBold
    btn.TextSize = 20
    btn.Parent = frame
    btn.MouseButton1Click:Connect(function()
        ESP_ENABLED = not ESP_ENABLED
        btn.Text = "ESP: " .. (ESP_ENABLED and "ON" or "OFF")
    end)
end

-- Função para desenhar ESP
local function DrawESP()
    -- Remover ESPs antigos
    for _,v in pairs(game.CoreGui:GetChildren()) do
        if v.Name == "SimpleESP" then
            v:Destroy()
        end
    end
    -- Loop nos jogadores
    for _,plr in ipairs(game.Players:GetPlayers()) do
        if plr ~= game.Players.LocalPlayer and plr.Character and plr.Character:FindFirstChild("Head") then
            -- Team check Arsenal
            local isEnemy = false
            if plr.Team ~= game.Players.LocalPlayer.Team then
                isEnemy = true
            end
            -- Só mostra para inimigos
            if isEnemy and ESP_ENABLED then
                local bb = Instance.new("BillboardGui")
                bb.Name = "SimpleESP"
                bb.Adornee = plr.Character.Head
                bb.Size = UDim2.new(0,100,0,40)
                bb.AlwaysOnTop = true
                bb.Parent = game.CoreGui
                local txt = Instance.new("TextLabel")
                txt.Size = UDim2.new(1,0,1,0)
                txt.BackgroundTransparency = 1
                txt.Text = plr.Name
                txt.TextColor3 = ENEMY_COLOR
                txt.TextStrokeTransparency = 0
                txt.TextSize = 16
                txt.Parent = bb
            end
        end
    end
end

-- Interface inicial
createUI()

-- Loop principal
game:GetService("RunService").RenderStepped:Connect(function()
    pcall(DrawESP)
end)
